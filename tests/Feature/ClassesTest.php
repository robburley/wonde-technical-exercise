<?php

namespace Tests\Feature;

use Tests\TestCase;

class ClassesTest extends TestCase
{
    /**
     * @test
     * @return void
     */
    public function itReturnsAnEmployeesClassesAndStudents(): void
    {
        $response = $this->get('/api/school/A1930499544/employee/A921160679/classes');

        $response->assertStatus(200);

        $this->assertSame($response->json(), $this->expectedOutput());
    }

    /**
     * @test
     * @return void
     */
    public function it404ErrorsWhenSchoolDoesNotExist(): void
    {
        $response = $this->get('/api/school/NOTFOUND/employee/A921160679/classes');

        $response->assertStatus(404);
    }

    /**
     * @test
     * @return void
     */
    public function it404ErrorsWhenEmployeeDoesNotExist(): void
    {
        $response = $this->get('/api/school/A1930499544/employee/NOTFOUND/classes');

        $response->assertStatus(404);
    }

    private function expectedOutput()
    {
        return json_decode('{"id":"A921160679","initials":"SD","title":"Mr","surname":"Dumbell","forename":"Steven","classes":[{"id":"A2127712306","name":"10x\/Ge2","code":null,"description":"10x\/Ge2","subject":"A1547051482","students":[{"id":"A2138531762","initials":"DO","surname":"O\'Connor","forename":"Daniel","middle_names":"Jackson","gender":null},{"id":"A1576221313","initials":"RS","surname":"Scott","forename":"Ruby","middle_names":"Ruth","gender":null},{"id":"A856753096","initials":"PM","surname":"Morgan","forename":"Paul","middle_names":null,"gender":null},{"id":"A94069109","initials":"SR","surname":"Richards","forename":"Stephen","middle_names":null,"gender":null},{"id":"A1814061225","initials":"ST","surname":"Turner","forename":"Stacey","middle_names":null,"gender":null},{"id":"A735013684","initials":"AS","surname":"Stone","forename":"Alex","middle_names":"Lee","gender":null},{"id":"A448648161","initials":"LD","surname":"Defeo","forename":"Lorenzo","middle_names":null,"gender":null},{"id":"A1753743508","initials":"KG","surname":"Godwin","forename":"Kate","middle_names":null,"gender":null},{"id":"A1114197936","initials":"JW","surname":"Wong","forename":"Janet","middle_names":"Dina","gender":null},{"id":"A912441763","initials":"EB","surname":"Broden","forename":"Ellis","middle_names":null,"gender":null},{"id":"A294823591","initials":"ER","surname":"Roche","forename":"Esme","middle_names":"Jessie","gender":null},{"id":"A1824928138","initials":"TK","surname":"Khoker","forename":"Tariq","middle_names":null,"gender":null},{"id":"A1344875399","initials":"RT","surname":"Trafford","forename":"Riley","middle_names":null,"gender":null},{"id":"A1583383778","initials":"HY","surname":"Yazdani","forename":"Hazeema","middle_names":null,"gender":null},{"id":"A1497697675","initials":"FQ","surname":"Quick","forename":"Freya","middle_names":"Adele","gender":null},{"id":"A1999679470","initials":"TL","surname":"Leonard","forename":"Tyler","middle_names":"Alex","gender":null},{"id":"A123737110","initials":"ZO","surname":"Okoye","forename":"Zain","middle_names":null,"gender":null},{"id":"A2015091163","initials":"CU","surname":"Umbridge","forename":"Chloe","middle_names":"Eva","gender":null}]},{"id":"A766125492","name":"11C\/Fr1","code":null,"description":"11C\/Fr1","subject":"A1077733544","students":[{"id":"A778194229","initials":"JA","surname":"Aaron","forename":"Jason","middle_names":null,"gender":null},{"id":"A626288342","initials":"JP","surname":"Pinkner","forename":"Jacob","middle_names":null,"gender":null},{"id":"A1686550667","initials":"RK","surname":"Kingston","forename":"Rory","middle_names":null,"gender":null},{"id":"A755968","initials":"LT","surname":"Tuner","forename":"Lacey","middle_names":null,"gender":null},{"id":"A1073603192","initials":"VG","surname":"Geofferson","forename":"Victor","middle_names":null,"gender":null},{"id":"A964859852","initials":"AS","surname":"Savorkswi","forename":"Anya","middle_names":"Mya","gender":null},{"id":"A1083364613","initials":"LK","surname":"Kernstein","forename":"Luke","middle_names":null,"gender":null},{"id":"A882613715","initials":"SK","surname":"Kaur","forename":"Sati","middle_names":null,"gender":null},{"id":"A580418091","initials":"TB","surname":"Barnes","forename":"Tommy","middle_names":null,"gender":null},{"id":"A2000154291","initials":"KM","surname":"Milton-Jones","forename":"Kathryn","middle_names":"Rita","gender":null},{"id":"A2092874712","initials":"JA","surname":"Armitage","forename":"Jasper","middle_names":null,"gender":null},{"id":"A812477661","initials":"AJ","surname":"Jackson","forename":"Amanda","middle_names":null,"gender":null},{"id":"A1207163323","initials":"CS","surname":"Smett","forename":"Christian","middle_names":null,"gender":null},{"id":"A1135633382","initials":"GF","surname":"Fleming","forename":"Grant","middle_names":null,"gender":null},{"id":"A979731047","initials":"SA","surname":"Aaron","forename":"Sophie","middle_names":null,"gender":null},{"id":"A2036530177","initials":"RE","surname":"Eagle","forename":"Ruby","middle_names":null,"gender":null},{"id":"A610725580","initials":"LA","surname":"Aaron","forename":"Liz","middle_names":null,"gender":null}]},{"id":"A242084217","name":"12C\/Ge1","code":null,"description":"12C\/Ge1","subject":"A1547051482","students":[{"id":"A1854137584","initials":"AK","surname":"Kingston","forename":"Alice","middle_names":null,"gender":null},{"id":"A692590777","initials":"FE","surname":"Evans","forename":"Frankie","middle_names":null,"gender":null},{"id":"A1947142387","initials":"HH","surname":"Hill","forename":"Hillary","middle_names":null,"gender":null},{"id":"A749876314","initials":"HZ","surname":"Zinkin","forename":"Harold","middle_names":null,"gender":null},{"id":"A581796630","initials":"JJ","surname":"Justin","forename":"Janice","middle_names":null,"gender":null},{"id":"A1384689614","initials":"LK","surname":"King","forename":"Larry","middle_names":null,"gender":null},{"id":"A1183588785","initials":"RB","surname":"Bellic","forename":"Roman","middle_names":null,"gender":null},{"id":"A827318264","initials":"MP","surname":"Pope","forename":"Martin","middle_names":null,"gender":null},{"id":"A1482891804","initials":"CW","surname":"Weston","forename":"Cameron","middle_names":null,"gender":null},{"id":"A1281664015","initials":"GJ","surname":"Jacobs","forename":"Graham","middle_names":null,"gender":null},{"id":"A168012938","initials":"TH","surname":"Hilmar","forename":"Toni","middle_names":null,"gender":null},{"id":"A1437828494","initials":"CR","surname":"Rees","forename":"Caryl","middle_names":null,"gender":null},{"id":"A912261236","initials":"FJ","surname":"Jackson","forename":"Felicity","middle_names":null,"gender":null},{"id":"A678493817","initials":"NI","surname":"Instog","forename":"Nick","middle_names":null,"gender":null},{"id":"A353627075","initials":"BD","surname":"Davies","forename":"Bette","middle_names":null,"gender":null},{"id":"A2011087987","initials":"CS","surname":"Southard","forename":"Claire","middle_names":null,"gender":null},{"id":"A950019233","initials":"JJ","surname":"Justin","forename":"Jim","middle_names":null,"gender":null},{"id":"A463291857","initials":"VR","surname":"Rovoski","forename":"Vlad","middle_names":null,"gender":null}]},{"id":"A2132734588","name":"7ORG\/Ge","code":null,"description":"7ORG\/Ge","subject":"A1547051482","students":[{"id":"A1074456151","initials":"GK","surname":"Kerr","forename":"Goraidh","middle_names":null,"gender":null},{"id":"A1175043054","initials":"SC","surname":"Conniff","forename":"Shanessa","middle_names":null,"gender":null},{"id":"A1375793936","initials":"KM","surname":"Mollohan","forename":"Keara","middle_names":null,"gender":null},{"id":"A2055037300","initials":"MP","surname":"Pavlovic","forename":"Milena","middle_names":null,"gender":null},{"id":"A40771528","initials":"AC","surname":"Chandran","forename":"Adah","middle_names":null,"gender":null},{"id":"A409121635","initials":"MS","surname":"Sunder","forename":"Manan","middle_names":null,"gender":null},{"id":"A543105479","initials":"BG","surname":"Gazi","forename":"Bapi","middle_names":null,"gender":null},{"id":"A1212800539","initials":"PP","surname":"Pho","forename":"Phuoc","middle_names":null,"gender":null},{"id":"A1145247565","initials":"AG","surname":"Gcobani","forename":"Abaeze","middle_names":null,"gender":null},{"id":"A1455349782","initials":"DR","surname":"Rolle","forename":"Dalila","middle_names":null,"gender":null},{"id":"A2025126611","initials":"EJ","surname":"Joseph","forename":"Eriel","middle_names":null,"gender":null},{"id":"A2125176426","initials":"AW","surname":"Williams","forename":"Anite","middle_names":null,"gender":null},{"id":"A178444188","initials":"GJ","surname":"Jefferson","forename":"Gabrielle","middle_names":null,"gender":null},{"id":"A613768893","initials":"JB","surname":"Backman","forename":"Jeffery","middle_names":null,"gender":null},{"id":"A1626059431","initials":"RE","surname":"Emptage","forename":"Reggie","middle_names":null,"gender":null},{"id":"A1399661119","initials":"TV","surname":"Vance","forename":"Tom","middle_names":null,"gender":null},{"id":"A356932528","initials":"JA","surname":"Andrews","forename":"Josef","middle_names":null,"gender":null},{"id":"A666645629","initials":"FB","surname":"Balinski","forename":"Fil","middle_names":null,"gender":null},{"id":"A1336845009","initials":"JB","surname":"Berkley","forename":"Jack","middle_names":null,"gender":null},{"id":"A1839199436","initials":"MC","surname":"Cory","forename":"Max","middle_names":null,"gender":null},{"id":"A2140520841","initials":"PD","surname":"DiCalvi","forename":"Pasquale","middle_names":null,"gender":null},{"id":"A636977624","initials":"LG","surname":"Gray","forename":"Lara","middle_names":null,"gender":null},{"id":"A837744906","initials":"JH","surname":"Henderson","forename":"Jack","middle_names":null,"gender":null},{"id":"A1641407938","initials":"WM","surname":"Matthews","forename":"William","middle_names":null,"gender":null},{"id":"A164008486","initials":"GM","surname":"Millson","forename":"Grace","middle_names":null,"gender":null},{"id":"A1075719986","initials":"JS","surname":"Simpson","forename":"Jessica","middle_names":null,"gender":null}]},{"id":"A290028108","name":"9y\/Ge3","code":null,"description":"9y\/Ge3","subject":"A1547051482","students":[{"id":"A2096491936","initials":"BB","surname":"Beddow","forename":"Bryn","middle_names":null,"gender":null},{"id":"A1466700346","initials":"MO","surname":"Okubo","forename":"Makoto","middle_names":null,"gender":null},{"id":"A1723009351","initials":"OF","surname":"Faulkner","forename":"Owen","middle_names":null,"gender":null},{"id":"A651139623","initials":"MK","surname":"Knight","forename":"Megan","middle_names":null,"gender":null},{"id":"A1082572572","initials":"SH","surname":"Hudson","forename":"Sarah","middle_names":null,"gender":null},{"id":"A175609509","initials":"FC","surname":"Clover","forename":"Frederick","middle_names":null,"gender":null},{"id":"A911600271","initials":"CE","surname":"Edmunds","forename":"Carl","middle_names":null,"gender":null},{"id":"A447219112","initials":"SZ","surname":"Zebed","forename":"Saskia","middle_names":null,"gender":null},{"id":"A1303777757","initials":"KG","surname":"Guilliams","forename":"Kenrich","middle_names":null,"gender":null},{"id":"A1707314402","initials":"FA","surname":"Altenburg","forename":"Fieda","middle_names":null,"gender":null},{"id":"A353049273","initials":"NM","surname":"Morgan","forename":"Nevaeh","middle_names":null,"gender":null},{"id":"A2036068103","initials":"JP","surname":"Poole","forename":"Jake","middle_names":null,"gender":null},{"id":"A1581684963","initials":"RE","surname":"Elliott","forename":"Reuben","middle_names":null,"gender":null},{"id":"A978498909","initials":"ID","surname":"Dorota","forename":"Imber","middle_names":null,"gender":null},{"id":"A517139907","initials":"JK","surname":"Khan","forename":"Jahed","middle_names":null,"gender":null},{"id":"A189921728","initials":"ER","surname":"Reece","forename":"Edward","middle_names":null,"gender":null},{"id":"A92441169","initials":"HS","surname":"Stevens","forename":"Holly","middle_names":null,"gender":null},{"id":"A1009544925","initials":"EW","surname":"Warren","forename":"Ellie","middle_names":null,"gender":null},{"id":"A406371159","initials":"SV","surname":"Verma","forename":"Shaima","middle_names":null,"gender":null},{"id":"A1413823610","initials":"CE","surname":"English","forename":"Charlotte","middle_names":null,"gender":null},{"id":"A417220648","initials":"AK","surname":"Khan","forename":"Afham","middle_names":null,"gender":null},{"id":"A349274458","initials":"SK","surname":"Khan","forename":"Sunjeeta","middle_names":null,"gender":null},{"id":"A1563640237","initials":"JM","surname":"Marandom","forename":"Jade","middle_names":null,"gender":null},{"id":"A122371826","initials":"AR","surname":"Robbins","forename":"Andrew","middle_names":null,"gender":null},{"id":"A972452327","initials":"AT","surname":"Tanzari","forename":"Antonio","middle_names":null,"gender":null}]}]}', true);
    }
}
